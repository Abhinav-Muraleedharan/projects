<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Updating R on Debian Linux</title>
  <meta name="description" content="Why the apt-get package manager doesn’t contain the latest version of R automatically, I’m not sure. I recently realized I have been downloading a 2+ year ol...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="/research/cloudcomputing/2016/07/19/Updating-R-on-Debian.html">
  <link rel="alternate" type="application/rss+xml" title="Scott's Blog" href="/feed.xml">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name='viewport' content='width=device-width, initial-scale=1'/>
    <meta name='keywords' content="maps, cartography"/>
    <!---Links--->
    <!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet" href='/css/cv.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <style>
    	footer{
    		text-align:center;
    	}
    </style>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83006302-2', 'auto');
    ga('send', 'pageview');
  </script>

  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


</head>


  <body>

    


<nav class="navbar navbar-default navbar-static-top">
<div class="container">
<div class="navbar-header">
  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
    <span class="sr-only">Toggle navigation</span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="navbar-brand" href="/index.html">Scott Farley</a>
</div>
<div id="navbar" class="navbar-collapse collapse">
  <ul class="nav navbar-nav navbar-right">
    <li><a href="/index.html">Home</a></li>
    <li><a href="/cv.html">CV</a></li>
    <li><a href="/index.html#blog">Blog</a></li>
</div><!--/.nav-collapse -->
</div>
</nav>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Updating R on Debian Linux</h1>
    <p class="post-meta"><time datetime="2016-07-19T09:22:52-05:00" itemprop="datePublished">Jul 19, 2016</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Why the <code class="highlighter-rouge">apt-get</code> package manager doesn’t contain the latest version of <code class="highlighter-rouge">R</code> automatically, I’m not sure. I recently realized I have been downloading a 2+ year old distribution for all of my SDM timing runs by running the standard <code class="highlighter-rouge">sudo apt-get install r-base</code> command at the shell.  For several weeks, this was fine, but today the package <code class="highlighter-rouge">Rcpp</code>, which wraps compiled C++ code in the R environment failed to compile.  I spent most of the afternoon trying to figure out what was going on.  I didn’t even occur to me that the  <code class="highlighter-rouge">r-base</code> package I was using was the root cause.</p>

<p>It is not easy to figure out how to update the core R package, but, like most things in linux, it comes down to a correctly ordered set of calls to a package manager.</p>

<p><em>Note:</em> I am using a Debian 8 Jessie image, version v20160718</p>

<p>###Steps:</p>

<ol>
  <li><code class="highlighter-rouge">sudo apt-get remove r-base</code>.  Remove the old version of R.</li>
  <li><code class="highlighter-rouge">sudo nano /etc/apt/sources.list</code>.  This file holds all of the package repositories for <code class="highlighter-rouge">apt-get</code>.</li>
  <li>Inside of it, copy and paste:
    <pre>
deb http://cran.rstudio.com/bin/linux/debian jessie-cran3/
</pre>

    <p>This tells the manager to look in this repository for a copy of the R distribution.</p>
  </li>
  <li>Save and close the text editor.</li>
  <li>
    <p>At the shell, type:
  <code>
  gpg --keyserver keyserver.ubuntu.com --recv-key E084DAB9
  </code>
  and then
  <code>
  gpg -a --export E084DAB9 | sudo apt-key add -
  </code>
  What does this do? I’m not exactly sure, but I think it has to do with the package integrity checks down when downloading things from a package manager.</p>
  </li>
  <li><code class="highlighter-rouge">sudo apt-get update</code>.  Update the installed packages.</li>
  <li><code class="highlighter-rouge">sudo apt-get install r-base</code>.  Install the core R functionality, hopefully this time using the newest version.</li>
  <li><code class="highlighter-rouge">sudo apt-get install r-base-dev</code>.  Install the development headers to allow packages that are not in debian repositories.</li>
</ol>

<p>At this point, you should have a newly updated R version.  You can check with R.version.  For me, this worked for updating from R version <code class="highlighter-rouge">3.0.1</code> to R version <code class="highlighter-rouge">3.3.1</code>.</p>

<p>If you have package install error, it’s definitely worth checking if an update in the r-base package could be responsible.</p>

  </div>

</article>
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

      </div>
    </div>

    <footer  >
  <ul class='list-inline'>
      <li class='no-bullet'><span class='glyphicon glyphicon-earphone text-muted'></span><strong class='contact-detail small'>  <a href='tel:626-264-0741'>626.264.0741</a></strong></li>
      <li class='no-bullet'><span class='glyphicon glyphicon-envelope text-muted'></span><strong class='contact-detail small'>  <a href="mailto:sfarley2@wisc.edu">sfarley@wisc.edu</a></strong></li>
      <li class='no-bullet'><span class='glyphicon glyphicon-menu-right text-muted'></span><strong class='contact-detail small'><a href='http://twitter.com/scottsfarley93'> @scottsfarley93</a></strong></li>
      <li class='no-bullet'><span class='glyphicon glyphicon-menu-right text-muted'></span><strong class='contact-detail small'><a href='http://github.com/scottsfarley93'>  GitHub</a></strong></li>
      <li class='no-bullet'><span class='glyphicon glyphicon-menu-right text-muted'></span><strong class='contact-detail small'><a href='https://www.linkedin.com/in/scott-farley-25902581'>  LinkedIn</a></strong></li>
</ul>
</footer>


  </body>

</html>
