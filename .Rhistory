PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD),
TMEAN = mean(TMEAN)
)
ggplot(climateData.monthly) + geom_line(aes(x=Month, y=TMAX, group=Year, col=Year))
for (i in 1:nrow(climateData.monthly)){
x <- climateData.monthly[i,]
day <- x[['Day']]
month <- x[['Month']]
avg <- climateAvgs.monthly[climateAvgs.monthly$Month == month,]
prcp <- x[['PRCP']] - avg$PRCP
snowd <- x[['SNOWD']] - avg$SNOWD
snow <- x[['SNOW']] - avg$SNOW
tmax <- x[['TMAX']] - avg$TMAX
tmin <- x[['TMIN']] - avg$TMIN
tmean <- x[['TMEAN']] - avg$TMEAN
if (is.na(prcp)){
prcp <- NA
}
if (is.na(snowd)){
snowd <- NA
}
if(is.na(snow)){
snow <- NA
}
if (is.na(tmax)){
tmax <- NA
}
if (is.na(tmin)){
tmin <- NA
}
tminAnom.monthly[i] <- tmin
tmaxAnom.monthly[i] <- tmax
prcpAnom.monthly[i] <- prcp
snowAnom.monthly[i] <- snow
snowdAnom.monthly[i] <- snowd
tmeanAnom.monthly[i] <- tmean
}
climateAnom.monthly <- data.frame(PRCP = prcpAnom.monthly,
TMAX = tmaxAnom.monthly,
TMIN = tminAnom.monthly,
SNOW = snowAnom.monthly,
SNOWD = snowdAnom.monthly
TMEAN = tmeanAnom.monthly
)
climateAnom.monthly$Month <- climateData.monthly$Month
climateAnom.monthly$Year <- climateData.monthly$Year
febTS <- climateData[climateData$Month == 2,]
ggplot(febTS, aes(x = Year, y=TMEAN)) + geom_line(lwd=0.15, col='red') + ggtitle("February Mean Temperature")
febAnoms <- climateAnom.monthly[climateAnom.monthly$Month == 2, ]
ggplot(febAnoms, aes(x = Year, y = TMEAN)) + geom_line(lwd=0.15, col='red') + ggtitle("February Mean Temperature Anomaly")
baseClimate <- climateData[climateData$Year >= 1950,]
baseClimate <- baseClimate[baseClimate$Year < 1990,]
climateAvgs <- ddply(baseClimate, .(Day, Month), summarise,
TMAX = mean(TMAX),
TMIN = mean(TMIN),
PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD)
)
tmaxAnom <- vector()
tminAnom <- vector()
prcpAnom <- vector()
snowAnom <- vector()
snowdAnom <- vector()
for (i in 1:nrow(climateData)){
x <- climateData[i,]
day <- x[['Day']]
month <- x[['Month']]
avg <- climateAvgs[(climateAvgs$Month == month & climateAvgs$Day == day),]
prcp <- x[['PRCP']] - avg$PRCP
snowd <- x[['SNOWD']] - avg$SNOWD
snow <- x[['SNOW']] - avg$SNOW
tmax <- x[['TMAX']] - avg$TMAX
tmin <- x[['TMIN']] - avg$TMIN
if (is.na(prcp)){
prcp <- NA
}
if (is.na(snowd)){
snowd <- NA
}
if(is.na(snow)){
snow <- NA
}
if (is.na(tmax)){
tmax <- NA
}
if (is.na(tmin)){
tmin <- NA
}
tminAnom[i] <- tmin
tmaxAnom[i] <- tmax
prcpAnom[i] <- prcp
snowAnom[i] <- snow
snowdAnom[i] <- snowd
}
baseClimate <- climateData[climateData$Year >= 1950,]
baseClimate <- baseClimate[baseClimate$Year < 1990,]
climateAvgs <- ddply(baseClimate, .(Day, Month), summarise,
TMAX = mean(TMAX),
TMIN = mean(TMIN),
PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD),
TMEAN = mean(TMEAN)
)
tmaxAnom <- vector()
tminAnom <- vector()
prcpAnom <- vector()
snowAnom <- vector()
snowdAnom <- vector()
tmeanAnom <- vector()
for (i in 1:nrow(climateData)){
x <- climateData[i,]
day <- x[['Day']]
month <- x[['Month']]
avg <- climateAvgs[(climateAvgs$Month == month & climateAvgs$Day == day),]
prcp <- x[['PRCP']] - avg$PRCP
snowd <- x[['SNOWD']] - avg$SNOWD
snow <- x[['SNOW']] - avg$SNOW
tmax <- x[['TMAX']] - avg$TMAX
tmin <- x[['TMIN']] - avg$TMIN
tmean <- x[['TMEAN']] - avg$TMEAN
if (is.na(prcp)){
prcp <- NA
}
if (is.na(snowd)){
snowd <- NA
}
if(is.na(snow)){
snow <- NA
}
if (is.na(tmax)){
tmax <- NA
}
if (is.na(tmin)){
tmin <- NA
}
tminAnom[i] <- tmin
tmaxAnom[i] <- tmax
prcpAnom[i] <- prcp
snowAnom[i] <- snow
snowdAnom[i] <- snowd
tmeanAnom [i] <- tmean
}
climateAnom <- data.frame(
PRCP = prcpAnom,
TMAX = tmaxAnom,
TMIN = tminAnom,
SNOW = snowAnom,
SNOWD = snowdAnom,
TMEAN = tmeanAnom
)
climateAnom$Day <- climateData$Day
climateAnom$Month <- climateData$Month
climateAnom$Year <- climateData$Year
baseClimate <- climateData[climateData$Year >= 1950,]
baseClimate <- baseClimate[baseClimate$Year < 1990,]
climateAvgs <- ddply(baseClimate, .(Day, Month), summarise,
TMAX = mean(TMAX),
TMIN = mean(TMIN),
PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD),
TMEAN = mean(TMEAN)
)
tmaxAnom <- vector()
tminAnom <- vector()
prcpAnom <- vector()
snowAnom <- vector()
snowdAnom <- vector()
tmeanAnom <- vector()
for (i in 1:nrow(climateData)){
x <- climateData[i,]
day <- x[['Day']]
month <- x[['Month']]
avg <- climateAvgs[(climateAvgs$Month == month & climateAvgs$Day == day),]
prcp <- x[['PRCP']] - avg$PRCP
snowd <- x[['SNOWD']] - avg$SNOWD
snow <- x[['SNOW']] - avg$SNOW
tmax <- x[['TMAX']] - avg$TMAX
tmin <- x[['TMIN']] - avg$TMIN
tmean <- x[['TMEAN']] - avg$TMEAN
if (is.na(prcp)){
prcp <- NA
}
if (is.na(snowd)){
snowd <- NA
}
if(is.na(snow)){
snow <- NA
}
if (is.na(tmax)){
tmax <- NA
}
if (is.na(tmin)){
tmin <- NA
}
tminAnom[i] <- tmin
tmaxAnom[i] <- tmax
prcpAnom[i] <- prcp
snowAnom[i] <- snow
snowdAnom[i] <- snowd
tmeanAnom [i] <- tmean
}
climateAnom <- data.frame(
PRCP = prcpAnom,
TMAX = tmaxAnom,
TMIN = tminAnom,
SNOW = snowAnom,
SNOWD = snowdAnom,
TMEAN = tmeanAnom
)
climateAnom$Day <- climateData$Day
climateAnom$Month <- climateData$Month
climateAnom$Year <- climateData$Year
tmaxAnom.monthly <- vector()
tminAnom.monthly <- vector()
prcpAnom.monthly <- vector()
snowAnom.monthly <- vector()
snowdAnom.monthly <- vector()
tmeanAnom.monthly <- vector()
climateAvgs.monthly <- ddply(baseClimate, .(Month), summarise,
TMAX = mean(TMAX),
TMIN = mean(TMIN),
PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD),
TMEAN = mean(TMEAN),
)
climateData.monthly <- ddply(climateData, .(Month, Year), summarise,
TMAX = mean(TMAX),
TMIN = mean(TMIN),
PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD),
TMEAN = mean(TMEAN)
)
ggplot(climateData.monthly) + geom_line(aes(x=Month, y=TMAX, group=Year, col=Year))
for (i in 1:nrow(climateData.monthly)){
x <- climateData.monthly[i,]
day <- x[['Day']]
month <- x[['Month']]
avg <- climateAvgs.monthly[climateAvgs.monthly$Month == month,]
prcp <- x[['PRCP']] - avg$PRCP
snowd <- x[['SNOWD']] - avg$SNOWD
snow <- x[['SNOW']] - avg$SNOW
tmax <- x[['TMAX']] - avg$TMAX
tmin <- x[['TMIN']] - avg$TMIN
tmean <- x[['TMEAN']] - avg$TMEAN
if (is.na(prcp)){
prcp <- NA
}
if (is.na(snowd)){
snowd <- NA
}
if(is.na(snow)){
snow <- NA
}
if (is.na(tmax)){
tmax <- NA
}
if (is.na(tmin)){
tmin <- NA
}
tminAnom.monthly[i] <- tmin
tmaxAnom.monthly[i] <- tmax
prcpAnom.monthly[i] <- prcp
snowAnom.monthly[i] <- snow
snowdAnom.monthly[i] <- snowd
tmeanAnom.monthly[i] <- tmean
}
climateAnom.monthly <- data.frame(PRCP = prcpAnom.monthly,
TMAX = tmaxAnom.monthly,
TMIN = tminAnom.monthly,
SNOW = snowAnom.monthly,
SNOWD = snowdAnom.monthly,
TMEAN = tmeanAnom.monthly
)
climateAnom.monthly$Month <- climateData.monthly$Month
climateAnom.monthly$Year <- climateData.monthly$Year
febTS <- climateData[climateData$Month == 2,]
ggplot(febTS, aes(x = Year, y=TMEAN)) + geom_line(lwd=0.15, col='red') + ggtitle("February Mean Temperature")
febAnoms <- climateAnom.monthly[climateAnom.monthly$Month == 2, ]
ggplot(febAnoms, aes(x = Year, y = TMEAN)) + geom_line(lwd=0.15, col='red') + ggtitle("February Mean Temperature Anomaly")
tmaxAnom.monthly <- vector()
tminAnom.monthly <- vector()
prcpAnom.monthly <- vector()
snowAnom.monthly <- vector()
snowdAnom.monthly <- vector()
tmeanAnom.monthly <- vector()
climateAvgs.monthly <- ddply(baseClimate, .(Month), summarise,
TMAX = mean(TMAX),
TMIN = mean(TMIN),
PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD),
TMEAN = mean(TMEAN)
)
climateData.monthly <- ddply(climateData, .(Month, Year), summarise,
TMAX = mean(TMAX),
TMIN = mean(TMIN),
PRCP = mean(PRCP),
SNOW = sum(SNOW),
SNOWD = sum(SNOWD),
TMEAN = mean(TMEAN)
)
ggplot(climateData.monthly) + geom_line(aes(x=Month, y=TMAX, group=Year, col=Year))
for (i in 1:nrow(climateData.monthly)){
x <- climateData.monthly[i,]
day <- x[['Day']]
month <- x[['Month']]
avg <- climateAvgs.monthly[climateAvgs.monthly$Month == month,]
prcp <- x[['PRCP']] - avg$PRCP
snowd <- x[['SNOWD']] - avg$SNOWD
snow <- x[['SNOW']] - avg$SNOW
tmax <- x[['TMAX']] - avg$TMAX
tmin <- x[['TMIN']] - avg$TMIN
tmean <- x[['TMEAN']] - avg$TMEAN
if (is.na(prcp)){
prcp <- NA
}
if (is.na(snowd)){
snowd <- NA
}
if(is.na(snow)){
snow <- NA
}
if (is.na(tmax)){
tmax <- NA
}
if (is.na(tmin)){
tmin <- NA
}
tminAnom.monthly[i] <- tmin
tmaxAnom.monthly[i] <- tmax
prcpAnom.monthly[i] <- prcp
snowAnom.monthly[i] <- snow
snowdAnom.monthly[i] <- snowd
tmeanAnom.monthly[i] <- tmean
}
climateAnom.monthly <- data.frame(PRCP = prcpAnom.monthly,
TMAX = tmaxAnom.monthly,
TMIN = tminAnom.monthly,
SNOW = snowAnom.monthly,
SNOWD = snowdAnom.monthly,
TMEAN = tmeanAnom.monthly
)
climateAnom.monthly$Month <- climateData.monthly$Month
climateAnom.monthly$Year <- climateData.monthly$Year
febTS <- climateData[climateData$Month == 2,]
ggplot(febTS, aes(x = Year, y=TMEAN)) + geom_line(lwd=0.15, col='red') + ggtitle("February Mean Temperature")
febAnoms <- climateAnom.monthly[climateAnom.monthly$Month == 2, ]
ggplot(febAnoms, aes(x = Year, y = TMEAN)) + geom_line(lwd=0.15, col='red') + ggtitle("February Mean Temperature Anomaly")
nino <- read.csv("/Users/scottsfarley/documents/nino34.csv")
library(reshape2)
View(nino)
nino.vect <- as.numeric(nino)
nino.vect <- melt(nino, 'numeric')
nino.vect <- melt(nino, 'vector')
nino.vect <- melt(nino, 'matrix')
nino.vect <- melt(nino, matrix)
climateAnom.monthly <- climateAnom.monthly[climateAnom.monthly$Year >= 1870,]
climateAnom.monthly <- climateAnom.monthly[climateAnom.monthly$Year >= 1870,]
nino <- read.csv("/Users/scottsfarley/documents/nino34.csv")
nino.vector <- vector()
for (i in 1:nrow(nino)){
print(nino[, 1])
}
for (i in 1:nrow(nino)){
print(nino[1, ])
}
for (i in 1:nrow(nino)){
print(nino[i, ])
}
nino.vector <- vector()
nino.months <- vector()
nino.years <- vector()
for (i in 1:nrow(nino)){
row <- nino[, i]
for (j in 2:length(row)){
value = row[[j]]
print (value)
}
}
nino.vector <- vector()
nino.months <- vector()
nino.years <- vector()
for (i in 1:nrow(nino)){
row <- nino[, i]
for (j in 2:length(row)){
value = row[[j]]
print (value)
}
}
nrow(nino)
nino <- read.csv("/Users/scottsfarley/documents/nino34.csv")
nino.vector <- vector()
nino.months <- vector()
nino.years <- vector()
for (i in 1:nrow(nino)){
row <- nino[, i]
for (j in 2:length(row)){
#value = row[[j]]
print (row[[1]])
}
}
nino <- read.csv("/Users/scottsfarley/documents/nino34.csv")
nino.vector <- vector()
nino.months <- vector()
nino.years <- vector()
for (i in 1:nrow(nino)){
row <- nino[i, ]
for (j in 2:length(row)){
#value = row[[j]]
print (row[[1]])
}
}
nino <- read.csv("/Users/scottsfarley/documents/nino34.csv")
nino.vector <- vector()
nino.months <- vector()
nino.years <- vector()
idx <- 1
for (i in 1:nrow(nino)){
row <- nino[i, ]
for (j in 2:length(row)){
value = row[[j]]
month = j
year = row[[1]]
nino.vector[idx] <- value
nino.months[idx] <- month
nino.years[idx] <- year
}
}
nino <- data.frame(Month=nino.months, Year = nino.years, Nino = nino.vector)
plot.ts(nino$Nino)
plot(nino$Nino)
nino
nino.years
nino <- read.csv("/Users/scottsfarley/documents/nino34.csv")
nino.vector <- vector()
nino.months <- vector()
nino.years <- vector()
idx <- 1
for (i in 1:nrow(nino)){
row <- nino[i, ]
for (j in 2:length(row)){
value = row[[j]]
month = j
year = row[[1]]
nino.vector[idx] <- value
nino.months[idx] <- month
nino.years[idx] <- year
idx = idx + 1
}
}
nino <- data.frame(Month=nino.months, Year = nino.years, Nino = nino.vector)
plot.ts(nino$Nino)
spectrum(nino)
spectrum(nino$Nino)
ninoTS <- ts(nino, start = 1870, frew=12)
ninoTS <- ts(nino, start = 1870, freq=12)
plot(ninoTS)
spectrum(ninoTS)
spectrum(complete.cases(ninoTS))
spectrum(febAnoms$TMAX)
spectrum(febAnoms$PRCP)
spectrum(febAnoms$SNOWD)
spectrum(febAnoms$SNOWD)
spectrum(febAnoms$SNOW)
spectrum(climateData$PRCP)
plot(nino)
plot(nino$Nino, climateData.monthly$TMAX)
nrow(nino)
nrow(climateAnom.monthly)
tail(climateAnom.monthly)
nino <- nino[nino$Year <= 2015, ]
nrow(nino)
climateAnom.monthly <- climateAnom.monthly[climateAnom.monthly$Year <= 2015,]
nrow(climateAnom.monthly)
plot(nino$Nino, climateAnom.monthly)
plot(nino$Nino, climateAnom.monthly$TMAX)
plot(nino$Nino, climateAnom.monthly$PRCP)
plot(nino$Nino, climateAnom.monthly$SNOW)
plot(nino$Nino, climateAnom.monthly$SNOWD)
ma
rollmean
rollmean(nino$Nino)
rollmean(nino$Nino, 5)
ninoAvg <- ddply(nino, Year, summarise, nino = mean(nino))
ninoAvg <- ddply(nino, .Year, summarise, nino = mean(nino))
ninoAvg <- ddply(nino, .(Year), summarise, nino = mean(nino))
warnings()
names(nino)
ninoAvg <- ddply(nino, .(Year), summarise, nino = mean(Nino))
plot(ninoAvg)
plot(ninoAvg, type='l'
)
nino$avg <- ninoAvg$nino
plot(climateData$TMAX ~ ninoAvg$nino)
plot(climateData.monthly$TMAX ~ ninoAvg$nino)
plot(climateAnom.monthly$TMAX ~ nino$avg)
lm(climateAnom.monthly$TMAX ~ nino$avg)
abline(lm(climateAnom.monthly$TMAX ~ nino$avg))
abline(lm(climateAnom.monthly$TMIN ~ nino$avg))
lm(climateAnom.monthly$TMIN ~ nino$avg)
lm(climateAnom.monthly$PRCP ~ nino$avg)
m <- lm(climateAnom.monthly$PRCP ~ nino$avg)
plot(m$residuals, type='l')
plot(m$effects)
plot(m$rank)
